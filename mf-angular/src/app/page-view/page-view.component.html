<div *ngIf="diary">
  <div class="container">
    <div class="row">
      <!-- Date + Folio num -->
      <h1>{{ diary.date }}: {{ diary.page[page-1].folio_num }}</h1>
    </div>
    <!-- Metadata -->
    <div class="metadata">
      <!-- First row -->
      <div class="d-flex">
        <div class="p-2"><b>Year:</b> {{ diary.date }}</div>
        <div class="p-2"><b>Hand:</b> {{ diary.page[page-1].hand }}</div>
        <div class="p-2"><b>Diary Num:</b> {{ diary.volume_num }}</div>
      </div>
      <!-- Second row -->
      <div class="d-flex">
        <div class="p-2"><b>Folio Num:</b> {{ diary.page[page-1].folio_num }}</div>
        <div class="p-2"><b>Manuscript Num:</b> Add MS {{ diary.ms_num }}</div>
      </div>
      <!-- Third row -->
      <div class="d-flex">
        <div class="p-2"><b>Transcription Status:</b> xx</div>
        <div class="p-2"><b>Transcriber:</b> {{ diary.page[page-1].transcriber }}</div>
      </div>
    </div>
    <br>

    <div class="row justify-content-center">
      <div class="col-6">
        <app-search-bar></app-search-bar>
      </div>
      <div class="col-sm-4">
        <div class="input-group md-form form-sm form-2 pl-0">
          <input type="text" id="folioNum" class="form-control my-0 py-1 amber-border" placeholder="Go to Folio..." #jump1>
          <div class="input-group-append">
            <span (click)="onClick(jump1.value)" class="input-group-text amber lighten-3"><i class="fa fa-arrow-circle-right" aria-hidden="true"></i></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Pagination bar for Folio Num -->
  <div class="container d-flex justify-content-center">
            <!-- pager -->
            <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
                <li [ngClass]="{disabled:pager.currentPage === 1}">
                    <a (click)="setPage(1)">Cover</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === 1}">
                    <a (click)="setPage(pager.currentPage - 1)">Previous</a>
                </li>
                <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                    <a (click)="setPage(page)">{{ diary.page[page-1].folio_num }}</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                    <a (click)="setPage(pager.currentPage + 1)">Next</a>
                </li>
                <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                    <a (click)="setPage(pager.totalPages)">Back Cover</a>
                </li>
            </ul>
  </div>

  <!-- Viewer boxes manuscript/transciption -->
  <div class="container">
    <div class="row justify-content-center">
      <!-- Manuscript -->
      <div class="col-sm">
        <div class="viewer-box">
          <img src="{{ diary.notebook_url }}{{ diary.page[page-1].image }}"/>
        </div>
      </div>
      <!-- Transcription -->
      <div class="col-sm">
        <div class="viewer-box">
          <div [innerHTML]="diary.page[page-1].content"></div>
        </div>
      </div>
    </div>
    <br>
    <!-- Go To Folio... -->
    <div class="row justify-content-center">
      <div class="col-sm-4">
        <div class="input-group md-form form-sm form-2 pl-0">
          <input type="text" id="folioNum" class="form-control my-0 py-1 amber-border" placeholder="Go to Folio..." #jump1>
          <div class="input-group-append">
            <span (click)="onClick(jump1.value)" class="input-group-text amber lighten-3"><i class="fa fa-arrow-circle-right" aria-hidden="true"></i></span>
          </div>
        </div>
      </div>
    </div>
  </div>

<div class="row justify-content-center" id="folio-group">
  <ul *ngFor="let p of diary.page; let i = index">
    <li>
      <a *ngIf="i%20==0" (click)="goToGroup(i)">{{p.folio_num}}</a>
    </li>
  </ul>
</div>
